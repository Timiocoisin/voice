## Chat Web（变声器多客服工作台 - Vue 3）

基于 **Vue 3 + Vite + TypeScript** 实现的 **多客服在线工作台前端**，用于接入变声器用户的咨询，支持多坐席同时在线、会话队列管理、聊天面板以及右侧用户 / 环境信息与快捷回复区。

当前版本以 **前端假数据** 为主，重点展示现代化多客服工作台的布局与交互流程，方便后续对接真实后端接口 / WebSocket。

---

### 功能概览（当前已实现部分）

- **基础框架**
  - Vue 3 + TypeScript + Vite 工程化
  - Vue Router：登录页 / 工作台路由切分
  - Pinia：预留全局状态管理（后续可串联登录状态、会话状态等）

- **登录页（占位版）**
  - 账号 + 密码表单（前端简单校验）
  - 登录后跳转到工作台首页（暂未接后端鉴权）

- **多客服工作台（核心界面雏形）**
  - 顶部：品牌 + 当前客服信息 + 在线状态展示
  - 左侧：会话队列列表（“我的会话 / 待接入”Tab 样式，数据暂为本地假数据）
  - 中间：聊天面板
    - 展示当前选中会话的用户昵称、VIP 标识、问题类型、会话时长
    - 聊天消息列表（用户 / 客服气泡、时间）
    - 输入区：多行输入、Enter 发送、Shift+Enter 换行
  - 右侧：信息 / 工具侧栏
    - 用户基础信息（账号、VIP 状态等，部分为示例假数据）
    - 变声器环境信息占位：系统版本、变声器版本、虚拟声卡安装状态等
    - 快捷回复列表：点击即可将预设话术插入输入框

> 注意：当前所有会话、消息、快捷回复数据均为前端写死的 **示例数据**，用于演示界面和流程；真实项目中应通过接口/Socket 获取并更新。

---

### 目录结构（当前实际）

```text
frontend/chat-web/
├── README.md
├── package.json
├── vite.config.ts
├── index.html
└── src/
    ├── main.ts              # 入口，挂载 App，注册 Pinia + Router
    ├── App.vue              # 根组件，承载 <router-view />
    ├── router/
    │   └── index.ts         # 路由配置（/login, /）
    ├── views/
    │   ├── LoginPage.vue    # 客服登录页（占位实现）
    │   └── WorkspacePage.vue# 多客服工作台主界面（左中右布局）
    └── components/
        └── ChatPanel.vue    # 早期示例聊天组件，当前仅作为占位/参考
```

---

### 本地运行

```bash
cd frontend/chat-web

# 安装依赖
npm install

# 启动开发服务器
npm run dev
```

在浏览器中访问终端输出的地址（一般是 `http://localhost:5173`），即可看到：

- `/login`：简易登录页
- `/`：多客服工作台主界面

---

### 与变声器后端对接建议

当前所有数据均在 `WorkspacePage.vue` 中以假数据形式写死。建议后续逐步抽离到服务层 / 状态层：

- 在 `src/services` 目录中新增：
  - `chatService.ts`：获取会话列表、消息列表、发送消息、结束会话等
  - `agentService.ts`：登录、获取坐席信息、在线状态变更
  - `metaService.ts`：FAQ、快捷回复、问题分类、环境信息等
- 在 `src/stores` 中使用 Pinia 管理：
  - `authStore`：登录状态、坐席信息
  - `sessionStore`：会话队列、当前会话 ID、未读数
  - `messageStore`：当前会话消息列表及加载状态

同时，可根据后端实际情况接入 WebSocket，用于：

- 推送新会话到 `待接入` 队列
- 推送新消息 / 会话状态变更
- 推送系统公告 / 告警信息

---

### 后续可迭代方向（示例）

- 接入真实登录鉴权（Token）、权限控制（普通客服 / 技术 / 主管）
- 支持多技能组、转接会话、内部备注、会话标签
- 丰富右侧用户 / 环境信息展示，与变声器客户端上报数据打通
- 引入更成熟的 UI 组件库（如 Naive UI / Element Plus），美化表格、抽屉、弹窗等
- 加入个人/团队统计看板（今日接待数、解决率、平均响应时间等）

本目录的定位是：**专注多客服工作台前端**，与上层 PyQt 变声器客户端、用户侧聊天入口通过接口和协议协作，而不耦合具体后端实现细节。 

